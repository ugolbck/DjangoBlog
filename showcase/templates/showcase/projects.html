{% extends "base.html" %}

{% block page_content %}

{% if all_articles %}
    <div class="container">
        <h3> All articles </h3>
        {% for article in all_articles %}  
            {% if forloop.counter0|divisibleby:"3" or forloop.first %} <div class="row row-cols-3"> {% endif %}  
                <div class="col-4">
                    <div class="card h-100">
                        <img class="card-img-top" src="https://www.enviro2b.com/wp-content/uploads/2020/01/2020-lann%C3%A9e-pour-r%C3%A9initialiser-rapport-%C3%A0-la-nature.jpg" alt="Card image cap">
                        <div class="card-body">
                            <h5 class="card-title">{{ article.title }} </h5>
                            <p class="card-text">{{ article.body|slice:":40" }}... </p>
                            <a href="{% url 'project_detail' article.id %}" class="card-link streched-link">Card link</a>
                            <a href="#" class="badge badge-primary">Python</a>
                        </div>
                        <div class="card-footer">
                            <small class="text-muted">Last updated {{ article.date|timesince }} ago</small>
                        </div>
                    </div>
                </div>
            {% if forloop.counter|divisibleby:"3" or forloop.last %}</div><hr>{%  endif %}
        {% endfor %}
    </div>
    
{% else %}
    <p>No articles are available.</p>
{% endif %}

{% endblock %}